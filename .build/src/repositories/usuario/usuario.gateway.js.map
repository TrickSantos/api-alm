{
  "version": 3,
  "sources": ["../../../../src/repositories/usuario/usuario.gateway.ts"],
  "sourcesContent": ["import {\n  WebSocketGateway,\n  SubscribeMessage,\n  MessageBody,\n  WebSocketServer,\n} from '@nestjs/websockets';\nimport { Server } from 'socket.io';\nimport { UsuarioService } from './usuario.service';\nimport { CreateUsuarioDto } from './dto/create-usuario.dto';\nimport { UpdateUsuarioDto } from './dto/update-usuario.dto';\nimport { IndexUsuarioDto } from './dto/index-usuario.dto';\n\n@WebSocketGateway({\n  cors: '*:*',\n})\nexport class UsuarioGateway {\n  constructor(private readonly usuarioService: UsuarioService) {}\n\n  @WebSocketServer()\n  server: Server;\n\n  @SubscribeMessage('usuario:create')\n  async create(@MessageBody() createUsuarioDto: CreateUsuarioDto) {\n    await this.usuarioService.create(createUsuarioDto);\n    this.server.emit('usuario:created');\n    return { status: 'sucess', message: ['Membro salvo com sucesso!'] };\n  }\n\n  @SubscribeMessage('usuario:index')\n  async findAll(@MessageBody() data: IndexUsuarioDto) {\n    return await this.usuarioService.findAll(data);\n  }\n\n  @SubscribeMessage('usuario:find')\n  async findOne(@MessageBody() codigo: string) {\n    const res = await this.usuarioService.findById(codigo);\n    if (!res) {\n      return { status: 'error', message: ['Codigo n\u00E3o encontrado!'] };\n    }\n    return res;\n  }\n\n  @SubscribeMessage('usuario:update')\n  async update(@MessageBody() updateUsuarioDto: UpdateUsuarioDto) {\n    await this.usuarioService.update(updateUsuarioDto.id, updateUsuarioDto);\n    this.server.emit('usuario:updated');\n    return { status: 'sucess', message: ['Membro salvo com sucesso!'] };\n  }\n\n  @SubscribeMessage('usuario:destroy')\n  async remove(@MessageBody() id: number) {\n    await this.usuarioService.remove(id);\n    this.server.emit('usuario:destroyed');\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,wBAKO;AAUA,2BAAqB;AAAA,EAC1B,YAA6B,gBAAgC;AAAhC;AAAA;AAAA,QAMvB,OAAsB,kBAAoC;AAC9D,UAAM,KAAK,eAAe,OAAO;AACjC,SAAK,OAAO,KAAK;AACjB,WAAO,EAAE,QAAQ,UAAU,SAAS,CAAC;AAAA;AAAA,QAIjC,QAAuB,MAAuB;AAClD,WAAO,MAAM,KAAK,eAAe,QAAQ;AAAA;AAAA,QAIrC,QAAuB,QAAgB;AAC3C,UAAM,MAAM,MAAM,KAAK,eAAe,SAAS;AAC/C,QAAI,CAAC,KAAK;AACR,aAAO,EAAE,QAAQ,SAAS,SAAS,CAAC;AAAA;AAEtC,WAAO;AAAA;AAAA,QAIH,OAAsB,kBAAoC;AAC9D,UAAM,KAAK,eAAe,OAAO,iBAAiB,IAAI;AACtD,SAAK,OAAO,KAAK;AACjB,WAAO,EAAE,QAAQ,UAAU,SAAS,CAAC;AAAA;AAAA,QAIjC,OAAsB,IAAY;AACtC,UAAM,KAAK,eAAe,OAAO;AACjC,SAAK,OAAO,KAAK;AAAA;AAAA;AAjCnB;AAAA,EADC;AAAA,GACD,AAJK,eAIL;AAGM;AAAA,EADL,wCAAiB;AAAA,EACJ;AAAA,GAAR,AAPD,eAOC;AAOA;AAAA,EADL,wCAAiB;AAAA,EACH;AAAA,GAAT,AAdD,eAcC;AAKA;AAAA,EADL,wCAAiB;AAAA,EACH;AAAA,GAAT,AAnBD,eAmBC;AASA;AAAA,EADL,wCAAiB;AAAA,EACJ;AAAA,GAAR,AA5BD,eA4BC;AAOA;AAAA,EADL,wCAAiB;AAAA,EACJ;AAAA,GAAR,AAnCD,eAmCC;AAnCD;AAAA,EAHN,wCAAiB;AAAA,IAChB,MAAM;AAAA;AAAA,GAED;",
  "names": []
}
